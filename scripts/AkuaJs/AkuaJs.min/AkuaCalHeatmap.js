define(["core/CoreBundle","cal-heatmap"],function(){function b(a){Apple.call(this,a);this.axis0=a.axis0;this.height=a.height?a.height:400;this.minDate=a.minDate?a.minDate:new Date(2015,0,1);this.maxDate=a.maxDate?a.maxDate:new Date(2015,0,31);this.range=a.range?a.range:4}b.prototype=new Apple;b.prototype.constructor=b;b.prototype.getView=function(){return this.view=$('<div id="'+this.divid+'" style="overflow:hidden"> <style>    .q1 {        fill: #FF0000;    }    .q2 {        fill: #FF7777;    }    .q3 {        fill: #FFB2B2;    }    .q4 {        fill: #E5FFE5;    }    .q5 {        fill: #B2FFB2;    }    .q6 {        fill: #66FF66;    }    .q7 {        fill: #00FF00;    }    .q0 {        fill: #EDEDED;    }</style> </div> ')};
b.prototype.updateValues=function(){this.testdata();if(!this.cal){var a=new CalHeatMap;a.init({itemSelector:"#"+this.divid,domain:"month",subDomain:"x_day",start:this.minDate,cellSize:18,cellPadding:4,displayLegend:!1,domainGutter:18,range:this.range,domainDynamicDimension:!1,previousSelector:"#example-g-PreviousDomain-selector",nextSelector:"#example-g-NextDomain-selector",subDomainTextFormat:"%d",legend:[-1,-.4,-.05,.05,.4,1],itemName:["%","%"]});this.cal=a}this.cal.update(this.testdata())};b.prototype.testdata=
function(){for(var a=this.axis0.Tuples().ToArray(),b={},c=0;c<a.length;c++)b[a[c].ToCaption()]=this.getValue(a[c]);return b};b.prototype.getSelection=function(){r=[];this.selected&&r.push(this.selected);return Enumerable.From(r)};return function(a){return new b.prototype.constructor(a)}});
